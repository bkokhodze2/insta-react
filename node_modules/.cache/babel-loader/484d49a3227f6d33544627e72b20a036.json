{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\beka\\\\Desktop\\\\insta_reactt\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\beka\\\\Desktop\\\\insta_reactt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\beka\\\\Desktop\\\\insta_reactt\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";var InstaService=function InstaService(){var _this=this;_classCallCheck(this,InstaService);this.getResource=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(_this._apiBase).concat(url));case 2:res=_context.sent;if(res.ok){_context.next=5;break;}throw new Error(\"could not fetch \".concat(url,\";recieved \").concat(res.status));case 5:_context.next=7;return res.json();case 7:return _context.abrupt(\"return\",_context.sent);case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.getAllPosts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _this.getResource('/posts/');case 2:res=_context2.sent;return _context2.abrupt(\"return\",res);case 4:case\"end\":return _context2.stop();}}},_callee2);}));this.getAllUser=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.getResource('/posts/');case 2:res=_context3.sent;return _context3.abrupt(\"return\",res.map(_this._transformUser));case 4:case\"end\":return _context3.stop();}}},_callee3);}));this._transformUser=function(user){return{photo:user.photo,alt:user.alt,name:user.name,id:user.id};};this.getAllPhotos=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return _this.getResource('/profile/');case 2:res=_context4.sent;return _context4.abrupt(\"return\",res.map(_this._transformPosts));case 4:case\"end\":return _context4.stop();}}},_callee4);}));this._transformPosts=function(photo){return{src:photo.src,alt:photo.alt,id:photo.id};};this._apiBase=\"http://localhost:3000\";};export{InstaService as default};","map":{"version":3,"sources":["C:/Users/beka/Desktop/insta_reactt/src/services/instaService.js"],"names":["InstaService","getResource","url","fetch","_apiBase","res","ok","Error","status","json","getAllPosts","getAllUser","map","_transformUser","user","photo","alt","name","id","getAllPhotos","_transformPosts","src"],"mappings":"sXAAqBA,CAAAA,Y,CACjB,uBAAa,wDAGbC,WAHa,0FAGC,iBAAOC,GAAP,gJACQC,CAAAA,KAAK,WAAI,KAAI,CAACC,QAAT,SAAoBF,GAApB,EADb,QACJG,GADI,kBAENA,GAAG,CAACC,EAFE,8BAGA,IAAIC,CAAAA,KAAJ,2BAA6BL,GAA7B,sBAA6CG,GAAG,CAACG,MAAjD,EAHA,8BAIIH,CAAAA,GAAG,CAACI,IAAJ,EAJJ,6GAHD,oEAUbC,WAVa,sEAUC,uKACQ,CAAA,KAAI,CAACT,WAAL,CAAiB,SAAjB,CADR,QACJI,GADI,iDAEHA,GAFG,0DAVD,QAebM,UAfa,sEAeA,uKACS,CAAA,KAAI,CAACV,WAAL,CAAiB,SAAjB,CADT,QACHI,GADG,iDAEFA,GAAG,CAACO,GAAJ,CAAQ,KAAI,CAACC,cAAb,CAFE,0DAfA,QAoBbA,cApBa,CAoBI,SAACC,IAAD,CAAS,CACtB,MAAM,CACFC,KAAK,CAAED,IAAI,CAACC,KADV,CAEFC,GAAG,CAAEF,IAAI,CAACE,GAFR,CAGFC,IAAI,CAAEH,IAAI,CAACG,IAHT,CAIFC,EAAE,CAAEJ,IAAI,CAACI,EAJP,CAAN,CAMH,CA3BY,MA6BbC,YA7Ba,sEA6BE,uKACO,CAAA,KAAI,CAAClB,WAAL,CAAiB,WAAjB,CADP,QACLI,GADK,iDAEJA,GAAG,CAACO,GAAJ,CAAQ,KAAI,CAACQ,eAAb,CAFI,0DA7BF,QAkCbA,eAlCa,CAkCK,SAACL,KAAD,CAAU,CACxB,MAAM,CACFM,GAAG,CAAEN,KAAK,CAACM,GADT,CAEFL,GAAG,CAAED,KAAK,CAACC,GAFT,CAGFE,EAAE,CAAEH,KAAK,CAACG,EAHR,CAAN,CAKH,CAxCY,CACT,KAAKd,QAAL,CAAe,uBAAf,CACH,C,QAHgBJ,Y","sourcesContent":["export default class InstaService {\r\n    constructor(){\r\n        this._apiBase =\"http://localhost:3000\";\r\n    }\r\n    getResource = async (url) =>{\r\n        const res = await fetch(`${this._apiBase}${url}`);\r\n        if(!res.ok){\r\n            throw new Error(`could not fetch ${url};recieved ${res.status}`);\r\n        }return await res.json();\r\n    }\r\n\r\n    getAllPosts = async () =>{\r\n        const res = await this.getResource('/posts/');\r\n        return res;\r\n    };\r\n    \r\n    getAllUser = async () =>{\r\n        const res = await this.getResource('/posts/');\r\n        return res.map(this._transformUser);\r\n    }\r\n\r\n    _transformUser = (user) =>{\r\n        return{\r\n            photo: user.photo,\r\n            alt: user.alt,\r\n            name: user.name,\r\n            id: user.id\r\n        }\r\n    }\r\n    \r\n    getAllPhotos = async () =>{\r\n        const res = await this.getResource('/profile/');\r\n        return res.map(this._transformPosts);\r\n    }\r\n\r\n    _transformPosts = (photo) =>{\r\n        return{\r\n            src: photo.src,\r\n            alt: photo.alt,\r\n            id: photo.id\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}